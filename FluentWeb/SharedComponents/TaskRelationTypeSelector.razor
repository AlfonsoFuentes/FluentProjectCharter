@using Shared.Enums.TasksRelationTypeTypes

<select value="@SelectedValue.Id" @onchange="HandleValueChanged" class="task-relation-selector">
    @foreach (var option in TasksRelationTypeEnum.List)
    {
        <option value="@option.Id">@option.Name</option>
    }
</select>

@code {
    [Parameter, EditorRequired]

    public TasksRelationTypeEnum SelectedValue { get; set; } = TasksRelationTypeEnum.None;

    [Parameter]
    public EventCallback<TasksRelationTypeEnum> OnValueChanged { get; set; }


    private async Task HandleValueChanged(ChangeEventArgs e)
    {
        if (int.TryParse(e.Value?.ToString(), out var selectedId))
        {
            var selectedType = TasksRelationTypeEnum.GetType(selectedId);
            await OnValueChanged.InvokeAsync(selectedType);
        }
    }
}